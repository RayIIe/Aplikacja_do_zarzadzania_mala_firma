{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\David\\\\AppData\\\\Local\\\\Praca_inzynierska\\\\untitled2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\David\\\\AppData\\\\Local\\\\Praca_inzynierska\\\\untitled2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\David\\\\AppData\\\\Local\\\\Praca_inzynierska\\\\untitled2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\David\\\\AppData\\\\Local\\\\Praca_inzynierska\\\\untitled2\\\\frontend\\\\src\\\\components\\\\LogInC.js\";\nimport React, { useState } from 'react';\nimport { Container } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom\";\n\nfunction LogInC() {\n  //const [nick, setNick] = useState()\n  var history = useHistory();\n\n  var _useState = useState({\n    name: '',\n    password: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setLoginUser = _useState2[1];\n\n  function handleChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setLoginUser(function (prevInput) {\n      return _objectSpread({}, prevInput, _defineProperty({}, name, value));\n    });\n  }\n\n  function handleClick(event) {\n    //debugger\n    event.preventDefault();\n    console.log(user);\n    axios.post('http://localhost:3001/login', user).then(function (res) {\n      setLoginUser(res.data.user);\n      var ref = \"/home\";\n      history.push(ref);\n    });\n    localStorage.setItem(\"username\", JSON.stringify(user));\n    window.location.reload();\n    window.location.href = \"/home\";\n    alert(\"Logged in\");\n  } //     useEffect(() => {\n  //         localStorage.setItem(\"username\", JSON.stringify(user))\n  //     }, [user])\n  //\n  // //\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Login to your account.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-5 m-3 d-sm-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: \"container-sm w-auto p-5 border rounded-4 bg-light text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputEmail1\",\n    className: \"form-label fs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control form-control-sm\",\n    id: \"exampleInputEmail1\",\n    name: \"email\",\n    value: user.email,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputPassword1\",\n    className: \"form-label fs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control form-control-sm\",\n    id: \"exampleInputPassword1\",\n    name: \"password\",\n    value: user.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 form-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    id: \"RememberMe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-check-label \",\n    htmlFor: \"exampleCheck1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, \"Remember me\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, \"Log In\"))))));\n}\n\nexport default LogInC;","map":{"version":3,"names":["React","useState","Container","axios","useHistory","LogInC","history","name","password","user","setLoginUser","handleChange","e","target","value","prevInput","handleClick","event","preventDefault","console","log","post","then","res","data","ref","push","localStorage","setItem","JSON","stringify","window","location","reload","href","alert","email"],"sources":["C:/Users/David/AppData/Local/Praca_inzynierska/untitled2/frontend/src/components/LogInC.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport {Container} from \"react-bootstrap\"\r\nimport axios from \"axios\";\r\nimport {useHistory} from \"react-router-dom/cjs/react-router-dom\";\r\n\r\nfunction LogInC() {\r\n\r\n    //const [nick, setNick] = useState()\r\n\r\n    const history = useHistory()\r\n    const [user, setLoginUser] = useState({\r\n        name: '',\r\n        password: ''\r\n    })\r\n\r\n    function handleChange(e) {\r\n        const {name, value} = e.target\r\n\r\n        setLoginUser(prevInput => {\r\n            return {\r\n                ...prevInput,//spread operator\r\n                [name]: value\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    function handleClick(event) {\r\n        //debugger\r\n        event.preventDefault();\r\n        console.log(user);\r\n\r\n\r\n        axios.post('http://localhost:3001/login', user)\r\n            .then(res => {\r\n                setLoginUser(res.data.user)\r\n                const ref = \"/home\"\r\n                history.push(ref)\r\n            })\r\n        localStorage.setItem(\"username\", JSON.stringify(user))\r\n        window.location.reload()\r\n        window.location.href = \"/home\"\r\n        alert(\"Logged in\")\r\n    }\r\n\r\n//     useEffect(() => {\r\n//         localStorage.setItem(\"username\", JSON.stringify(user))\r\n//     }, [user])\r\n//\r\n// //\r\n\r\nreturn (\r\n    <div className=\"m-4\">\r\n        <h1 className=\"text-center text-dark\">Login to your account.</h1>\r\n        <div className=\"p-5 m-3 d-sm-flex\">\r\n            <Container className=\"container-sm w-auto p-5 border rounded-4 bg-light text-dark\">\r\n                <div>\r\n                    <form>\r\n                        <div className=\"mb-4\">\r\n                            <label htmlFor=\"exampleInputEmail1\" className=\"form-label fs-4\">Email address</label>\r\n                            <input type=\"email\"\r\n                                   className=\"form-control form-control-sm\"\r\n                                   id=\"exampleInputEmail1\"\r\n                                   name=\"email\"\r\n                                   value={user.email}\r\n                                   onChange={handleChange}></input>\r\n                        </div>\r\n                        <div className=\"mb-4\">\r\n                            <label htmlFor=\"exampleInputPassword1\" className=\"form-label fs-4\">Password</label>\r\n                            <input type=\"password\"\r\n                                   className=\"form-control form-control-sm\"\r\n                                   id=\"exampleInputPassword1\" name=\"password\"\r\n                                   value={user.password}\r\n                                   onChange={handleChange}></input>\r\n                        </div>\r\n                        <div className=\"mb-3 form-check\">\r\n                            <input type=\"checkbox\" className=\"form-check-input\" id=\"RememberMe\"></input>\r\n                            <label className=\"form-check-label \" htmlFor=\"exampleCheck1\">Remember me</label>\r\n                        </div>\r\n                        <button onClick={handleClick} type=\"submit\" className=\"btn btn-primary\">Log In</button>\r\n                    </form>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    </div>\r\n);\r\n}\r\n\r\n\r\nexport default LogInC;"],"mappings":"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"},"metadata":{},"sourceType":"module"}